Blogs REST API
==============

Реализация API социальной сети.  
Незарегистрированный пользователь может просматривать публикации, комментарии к публикациям и группы.  
Зарегистрированный пользователь может размещать и редактировать свои публикации  
и коментарии к публикациям других пользователей, а также подписываться на других пользователей.

Установка
---------

- Клонировать репозиторий и перейти в него в командной строке:
  ```
  git clone https://github.com/ivnpvl/api_final_yatube
  cd api_final_yatube
  ```
- Cоздать и активировать виртуальное окружение:
  ```
  python3 -m venv venv
  source venv/bin/activate
  ```
- Установить зависимости из файла requirements.txt:
  ```
  python3 -m pip install --upgrade pip
  pip install -r requirements.txt
  ```
- Выполнить миграции:
  ```
  python3 manage.py migrate
  ```
- Запустить проект:
  ```
  python3 manage.py runserver
  ```

Примеры запросов к API
----------------------

Регистрация нового пользователя через API недоступна.  
Зарегистрированный пользователь должен получить JWT-токен POST-запросом на http://127.0.0.1:8000/api/v1/jwt/create/  
В теле запроса передаётся JSON с именем и паролем пользователя:  

```
{"username": "пмя пользователя", "password": "пароль"}
```

Полученный токен далее нужно передавать в заголовке каждого запроса в Authorization:

```
Token полученный_токен
```

После чего доступны запросы авторизованного пользователя.  
Например, для создания новой публикации нужно выполнить POST-запрос на http://127.0.0.1:8000/api/v1/posts/  
В заголовке запроса передаётся токен, а в теле запроса передаётся JSON с текстом, изображением и группой публикации:  

```
{
"text": "текст публикации",
"image": "картинка в кодировке base64 - необязательный параметр",
"group": "id группы, к которой будет принадлежать сообщение - необязательный параметр"
}
```

Подробная документация доступна после запуска проекта http://127.0.0.1:8000/redoc/

Автор
-----

Иван Павлов, ivnpvl@mail.ru
